<!--pages/map/map.wxml-->
<view class='page'>
  <view class="home">
    <map subkey="{{personalityMap}}" bindmarkertap="markertap" markers='{{markers}}' longitude='{{longitude}}' latitude='{{latitude}}' class='mapStyle' bindtap='mapTap' data-longitude="{{longitude}}" data-latitude='{{latitude}}' show-location='true' style="width: 94%;height: {{height}}px;"></map>
    <cover-view class="switchMapStyle" bindtap='changeMapStyleTap' data-bgcolor="{{bgColor}}" style="border-color: {{borderColor}};background-color: {{bgColor}}"></cover-view>

    <view class='searchForm'>
      <icon type="search" size="15" class="searchIcon" color="#888" style='float:left; margin-right: 30rpx;'></icon>
      <view class='searchInput' bindtap='searchTap'>{{searchInputValue}}</view>
    </view>
    <!-- <form class="searchForm">
    <icon type="search" size="15" class="searchIcon" color="#888" style='float:left; margin-right: 30rpx;'></icon>
        <input value='{{searchInputValue}}' placeholder= '点击搜索' placeholder-style='font-size: 30rpx;'></input>
        <!-- <view hidden="{{notshowSuggest}}" class="suggest"> 
          <text style='font-size: 28rpx; color: #aaa'>搜索建议</text>
          <view class="suggestItem" wx:for="{{searchSuggest}}" wx:key="{{index}}" bindtap='SuggestText' data-title="{{item.title}}" data-address="{{item.address}}" data-lo="{{item.location}}">{{item.title}}</view>
        </view>
    </form> -->

    <view class="userselect">
      <view bindtap='regetpositionTap' class="regetposition">重新定位</view>
      <view bindtap='choosepositionTap' class="chooseposition">选择位置</view>
    </view>
  </view>

  <cover-view class='maskLayer' wx:if="{{chooseSize}}" bindtap='hideModal'></cover-view>

  <cover-view class='choose' wx:if="{{chooseSize}}" animation='{{animationData}}'>
    <cover-view class="item"><cover-view class='itemName'>名称</cover-view><cover-view class='itemDetail'>{{positionInformation.title}}</cover-view></cover-view>
    <cover-view class="item"><cover-view class='itemName'>位置</cover-view><cover-view class='itemDetail'>{{positionInformation.address}}</cover-view></cover-view>
    <cover-view class="item" bindtap='phone' data-phone="{{positionInformation.tel}}"><cover-view class='itemName'>电话</cover-view><cover-view class='itemDetail'>{{positionInformation.tel}}</cover-view></cover-view>
    <cover-view bindtap='lineWay' data-position="{{positionInformation.location}}" data-name="{{positionInformation.title}}"><button>路线</button></cover-view>
  </cover-view>
</view>