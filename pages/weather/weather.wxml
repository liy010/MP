<!--pages/wether/wether.wxml-->

<view class='add iconfont icon-add-copy' bindtap='addTap'></view>
<view class="chooseAddTap" wx:if="{{chooseAddTap}}">
<picker mode="region" style='height: 100%; width: 100%' value='{{region}}' capture-bind:cancel='bindPickerCancel' bindchange='bindRegionChange' custom-item="{{customItem}}">

 <view class="picker">
  当前选择：<view class='pickerItem'>{{region[0]}}</view>
  <view class='pickerItem'>{{region[1]}}</view>
  <view class='pickerItem'>{{region[2]}}</view>
 </view>
</picker>
<icon type='cancel' color='red' size='35' class='pickerIcon' capture-bind:tap='pickerIconTap'></icon>
</view>
<view class='city' bindtap='cityTap'><span class="cityspan"></span>{{city}}</view>
<view bindtap='shuaxinTap' class='shuaxin'>
  <view animation="{{animation}}" class='rotate'>
    <view class='iconfont icon-shuaxin icon' />
  </view>
  点击刷新
</view>

<view class="container" style='padding-botton: 120rpx;' bindtouchstart='mytouchstart' bindtouchend='mytouchend'> 
  <view class="temperature">{{currentweatherData.now}}
    <view class='leftTop'>
      <view class='temperatureIcon'></view>
      <view class="weatherDesc">{{currentweatherData.weatherDesc}}</view>
    </view>
  </view>
  <view class="tag">
    <view class='pm iconfont icon-icon-pm' style='color: {{pm.pmColor}}'>{{currentweatherData['pm25']}}</view><view style="background-color: {{pm.pmColor}}" class="airQuality" >{{pm.airQuality}}</view>
    <view class="temperaturerange iconfont icon-wendu">{{currentweatherData.temperature}}</view>
  </view>
  <view class='wind iconfont icon-feng'><text>{{currentweatherData.wind}}</text></view>
  <view class='allList'>
      <view class= 'icon-weizhi iconfont choosefirst' style="color: {{positionColor}}"></view>    
    <block wx:for="{{total}}" wx:key="{{index}}">
      <view wx:if="{{listIndex === index}}" class="listChoose listChooseStyle"></view>
      <view wx:else class='listChoose'></view>
    </block>
  </view>
  <!-- <text>{{currentweatherData}}</text> -->
</view>

<view class="originalweather">
  <block wx:for="{{originalweatherData}}" wx:key="{{index}}">
    <view class="item">
      <view style='text-align: center; font-weight: bold;'>{{item.date}}</view>
      <image class="picture" mode="aspectFill" src="{{item.dayPictureUrl}}" />
      <view class="detail">
        <view class="list" style='font-weight: bold'>{{item.temperature}}</view>
        <view class="list">{{item.weather}}</view>
        <view class="list">{{item.wind}}</view>
      </view>
      <image class="picture" mode="aspectFill" src='{{item.nightPictureUrl}}'></image>
    </view>  
  </block>
</view>
<!-- <view>{{originalweatherData}}</view> -->
<view class="originalData"></view>